---
layout: post
title:  "åå¤§æ’åºç®—æ³•(ä¸€)-å †æ’åº"
date:   2019-01-23 17:40:41
categories: ç®—æ³•
tags: æ’åº
mathjax: true
author: Narcissus
---

* content
{:toc}

## ç†è§£
å †åˆ†ä¸ºæœ€å¤§å †å’Œæœ€å°å †ï¼Œè¿™é‡Œä»¥æœ€å¤§å †ä¸ºä¾‹å­è¿›è¡Œè®²è§£ã€‚
![](https://narcissuspicbed.oss-cn-hangzhou.aliyuncs.com/media/15481443735185/15482302030972.png)

### å †çš„æ¦‚å¿µï¼š
> å †ï¼ˆè‹±è¯­ï¼šHeapï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­çš„ä¸€ç§ç‰¹åˆ«çš„æ ‘çŠ¶æ•°æ®ç»“æ„ã€‚è‹¥æ˜¯æ»¡è¶³ä»¥ä¸‹ç‰¹æ€§ï¼Œå³å¯ç§°ä¸ºå †ï¼šâ€œç»™å®šå †ä¸­ä»»æ„èŠ‚ç‚¹ P å’Œ Cï¼Œè‹¥ P æ˜¯ C çš„æ¯èŠ‚ç‚¹ï¼Œé‚£ä¹ˆ P çš„å€¼ä¼šå°äºç­‰äºï¼ˆæˆ–å¤§äºç­‰äºï¼‰ C çš„å€¼â€ã€‚è‹¥æ¯èŠ‚ç‚¹çš„å€¼æ’å°äºç­‰äºå­èŠ‚ç‚¹çš„å€¼ï¼Œæ­¤å †ç§°ä¸ºæœ€å°å †ï¼ˆè‹±è¯­ï¼šmin heapï¼‰ï¼›åä¹‹ï¼Œè‹¥æ¯èŠ‚ç‚¹çš„å€¼æ’å¤§äºç­‰äºå­èŠ‚ç‚¹çš„å€¼ï¼Œæ­¤å †ç§°ä¸ºæœ€å¤§å †ï¼ˆè‹±è¯­ï¼šmax heapï¼‰ã€‚åœ¨å †ä¸­æœ€é¡¶ç«¯çš„é‚£ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç§°ä½œæ ¹èŠ‚ç‚¹ï¼ˆè‹±è¯­ï¼šroot nodeï¼‰ï¼Œæ ¹èŠ‚ç‚¹æœ¬èº«æ²¡æœ‰æ¯èŠ‚ç‚¹ï¼ˆè‹±è¯­ï¼šparent nodeï¼‰ã€‚
> 
> nä¸ªå…ƒç´ åºåˆ—${k_1, k_2... k_i...k_n}$,å½“ä¸”ä»…å½“æ»¡è¶³ä¸‹åˆ—å…³ç³»æ—¶ç§°ä¹‹ä¸ºå †ï¼š
$(k_i <= k_{2i}, k_i <= k_{2i+1)}$æˆ–è€…$(k_i >= k_{2i}, k_i >= k_{2i+1}), (i = 1, 2, 3, 4... n/2)$

> åœ¨é˜Ÿåˆ—ä¸­ï¼Œè°ƒåº¦ç¨‹åºåå¤æå–é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªä½œä¸šå¹¶è¿è¡Œï¼Œå› ä¸ºå®é™…æƒ…å†µä¸­æŸäº›æ—¶é—´è¾ƒçŸ­çš„ä»»åŠ¡å°†ç­‰å¾…å¾ˆé•¿æ—¶é—´æ‰èƒ½ç»“æŸï¼Œæˆ–è€…æŸäº›ä¸çŸ­å°ï¼Œä½†å…·æœ‰é‡è¦æ€§çš„ä½œä¸šï¼ŒåŒæ ·åº”å½“å…·æœ‰ä¼˜å…ˆæƒã€‚å †å³ä¸ºè§£å†³æ­¤ç±»é—®é¢˜è®¾è®¡çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚[1] 
> ~ç»´åŸºç™¾ç§‘

### å †æ’åº
#### åŸºæœ¬æ“ä½œ

| æ“ä½œ | æè¿° | æ—¶é—´å¤æ‚åº¦ |
| --- | --- | --- |
| build | åˆ›å»ºä¸€ä¸ªç©ºå † | $O(n)$ |
| insert | å‘å †ä¸­æ’å…¥ä¸€ä¸ªæ–°å…ƒç´  | $O(log n)$ |
| get | è·å–å½“å‰å †é¡¶å…ƒç´ çš„å€¼ | $O(1)$ |
| delete | åˆ é™¤å †é¡¶å…ƒç´  | $O(\log n) $|


#### æ€§è´¨
![](https://narcissuspicbed.oss-cn-hangzhou.aliyuncs.com/media/15481443735185/15482302266450.png)

å †ä¸€èˆ¬ç”¨æ•°ç»„æˆ–è€…vectoræ¥å­˜å‚¨ï¼Œé€šè¿‡ç´¢å¼•çš„æ“ä½œè™šæ‹Ÿä¸€ä¸ª**å®Œå…¨äºŒå‰æ ‘**ç»“æ„ã€‚å…¶æ€§è´¨æœ‰ï¼š
- ä»»æ„èŠ‚ç‚¹å°äºï¼ˆæˆ–å¤§äºï¼‰å®ƒçš„æ‰€æœ‰åè£”ï¼Œæœ€å°å…ƒï¼ˆæˆ–æœ€å¤§å…ƒï¼‰åœ¨å †çš„æ ¹ä¸Šï¼ˆå †åºæ€§ï¼‰ã€‚
- å †æ€»æ˜¯ä¸€æ£µ**å®Œå…¨æ ‘**ã€‚å³é™¤äº†æœ€åº•å±‚ï¼Œå…¶ä»–å±‚çš„èŠ‚ç‚¹éƒ½è¢«å…ƒç´ å¡«æ»¡ï¼Œä¸”æœ€åº•å±‚å°½å¯èƒ½åœ°ä»å·¦åˆ°å³å¡«å…¥ã€‚

å¸¸è§çš„å †æœ‰äºŒå‰å †ã€æ–æ³¢é‚£å¥‘å †ç­‰ã€‚

#### åŸç†
è™½ç„¶ç†è®ºå®¹æ˜“ç†è§£ï¼Œä½†æ˜¯è¦çœŸæ­£æŠŠè¿™ä¸ªç®—æ³•æé€šï¼ŒåŒ…æ‹¬èƒ½ç›´æ¥æ‰‹å†™ç®—æ³•ï¼Œåœ¨å®ç°çš„æ—¶å€™è¿˜æ˜¯ä¼šè§‰å¾—æœ‰ä¸€ç‚¹éš¾åº¦ã€‚è¿™é‡Œéœ€è¦è°¨è®°çš„æ˜¯ _**ç»™å®šä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œ è‹¥å…¶å·¦å­æ ‘å’Œå³å­æ ‘åŒæ—¶æ»¡è¶³å †çš„æ¡ä»¶åï¼Œå¯¹æ ¹èŠ‚ç‚¹å®Œæˆä¸‹æ²‰æ“ä½œåï¼Œæ•´ä¸ªæ ‘ğŸŒ²ä¸€å®šæ˜¯ä¸€ä¸ªå †ã€‚**_

**å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ç´¢å¼•å…³ç³»**
å‡è®¾æœ‰ä¸€ä¸ªæ•°ç»„ä»1å¼€å§‹çš„sizeä¸ºnçš„æ•°ç»„arrã€‚å…¶æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹çš„ç´¢å¼•ä¸º$start=(n/2)$,è¯¥éå¶å­èŠ‚ç‚¹çš„å·¦å„¿å­ä¸º$start*2$,å³å„¿å­ä¸º$start*2+1$;æ³¨æ„ï¼Œè‹¥æ•°ç»„ä»0å¼€å§‹ï¼Œå…¶æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹çš„ç´¢å¼•ä¸º$start=(n/2-1)$,è¯¥éå¶å­èŠ‚ç‚¹çš„å·¦å„¿å­ä¸º$start*2+1$,å³å„¿å­ä¸º$start*2+2$ï¼Œä»¥ä¸‹éƒ¨åˆ†ï¼ŒåŒ…æ‹¬å®ç°ï¼Œéƒ½æ˜¯ä»0å¼€å§‹çš„ã€‚

##### åŸºæœ¬æ“ä½œ
è¿™é‡Œåªè§£è¯´ï¼Œå‡ ä¸ªæ¯”è¾ƒéš¾çš„æ“ä½œã€‚
###### ç¬¬ä¸€æ­¥ï¼šbuild-æ„å»ºæœ€å¤§å †
ç»™å®šä¸€ä¸ªè¾“å…¥æ•°ç»„ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„ä¸€ä¸ªåˆå§‹å®Œå…¨äºŒå‰æ ‘
![](https://narcissuspicbed.oss-cn-hangzhou.aliyuncs.com/media/15481443735185/15482312384981.png)
ä¸ºäº†å¾—åˆ°ä¸€ä¸ªå †ï¼Œbuildæ“ä½œéœ€è¦ä»è¿™ä¸ªäºŒå‰æ ‘çš„æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œå¯¹æ‰€æœ‰çš„éå¶å­èŠ‚ç‚¹è¿›è¡Œä¸‹æ²‰æ“ä½œ,ä¹Ÿå°±æ˜¯MaxHeapæ„é€ å‡½æ•°ä¸­ä¸‹é¢çš„ä»£ç ï¼š

``` c++
    int curPos=size/2-1;//æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹
    while(curPos>=0)//å¾ªç¯ä¸‹æ²‰æ‰€æœ‰å¶å­èŠ‚ç‚¹
    {
        shift_down(curPos,arrSize-1);//ä¸‹æ²‰æ“ä½œ
        curPos--;//éå¶å­èŠ‚ç‚¹çš„ä½ç½®
    }
```
æœ€ç»ˆå¾—åˆ°è¿™æ ·ä¸€ä¸ªå †ï¼š
![](https://narcissuspicbed.oss-cn-hangzhou.aliyuncs.com/media/15481443735185/15482316323218.png)

**ä¸‹æ²‰**
è¿™ä¸ªåœ°æ–¹éœ€è¦è®²è§£ä¸€ä¸‹ä¸‹æ²‰æ“ä½œã€‚ä¸‹æ²‰æ¯ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ï¼Œéƒ½è¦ä¿è¯å…¶åšå­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯ä¸€ä¸ªå †ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ„å»ºå †æ—¶ï¼Œä¸‹æ²‰æ“ä½œæ˜¯ä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹çš„ã€‚æˆ‘ä»¬å†å›å¿†å‰é¢çš„å…³é”®æ¦‚å¿µï¼šç»™å®šä¸€ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œ è‹¥å…¶å·¦å­æ ‘å’Œå³å­æ ‘åŒæ—¶æ»¡è¶³å †çš„æ¡ä»¶åï¼Œå¯¹æ ¹èŠ‚ç‚¹å®Œæˆä¸‹æ²‰æ“ä½œåï¼Œæ•´ä¸ªæ ‘ğŸŒ²ä¸€å®šæ˜¯ä¸€ä¸ªå †ã€‚

ä¸‹æ²‰æ“ä½œæ˜¯é€šè¿‡ä¸€ä¸ªå¾ªç¯æ¥å®ç°çš„ï¼Œå¾ªç¯æ˜¯ä¸ºäº†ä¿è¯ä¸‹æ²‰èƒ½å¤Ÿå®Œå…¨è¿›è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´æœ‰å¯èƒ½ä¸‹æ²‰ä¸€æ¬¡ï¼Œäº¤æ¢äº†ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œä¼šå¯¼è‡´å­æ ‘ä¸å†æ»¡è¶³å †çš„æ€§è´¨ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªèŠ‚ç‚¹è¿˜éœ€è¦ç»§ç»­ä¸‹æ²‰ã€‚ä¹Ÿå°±æ˜¯ä¸‹é¢çš„ä¾‹å­ï¼š4è¦ä¸‹æ²‰ä¸¤æ¬¡ã€‚
![](https://narcissuspicbed.oss-cn-hangzhou.aliyuncs.com/media/15481443735185/15482320745086.png)
![](media/15481443735185/15482320884522.png)


``` c++
  T temp=heap[i];//å½“å‰éå¶å­èŠ‚ç‚¹
    while (j<=end)//æ˜¯å¦ç»§ç»­è¿›è¡Œå¾€ä¸‹æ²‰çš„æ¡ä»¶
    {
        if(j+1<end&&heap[j]>heap[j+1])//æ‰¾åˆ°ä¸¤ä¸ªå„¿å­èŠ‚ç‚¹æ›´å¤§çš„ä¸€ä¸ª
        {
            j++;
        }
        if(temp<heap[j])break;//è¡¨ç¤ºæ­¤èŠ‚ç‚¹iå·²ç»æ»¡è¶³å †çš„æ¡ä»¶ï¼Œä¸éœ€è¦ç»§ç»­å¾€ä¸‹æ²‰ï¼›
        //å¦åˆ™ï¼Œä¼šç»§ç»­å¾€ä¸‹åˆ¤æ–­
        heap[i]=heap[j];
        i=j;//æ–°çš„èŠ‚ç‚¹
        j=2*j+1;//æ–°èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹
    }
    heap[i]=temp;//å®Œæˆä¸¤ä¸ªèŠ‚ç‚¹çš„äº¤æ¢ï¼Œä¹Ÿå¯èƒ½æ˜¯heap[i]å’Œè‡ªèº«çš„èµ‹å€¼,æ¯”å¦‚åœ¨whileå¾ªç¯çš„ç¬¬ä¸€éå¾ªç¯å°±breakå‡ºå»ã€‚
```
è¿™ä¸ªåœ°æ–¹è¿˜éœ€è¦æ³¨æ„çš„æ˜¯å¯¹æ–°çš„éå¶å­èŠ‚ç‚¹ç´¢å¼•çš„è®¡ç®—ä»¥åŠå·¦å„¿å­ç´¢å¼•éè®¡ç®—ã€‚

###### å †çš„æ’å…¥å’Œåˆ é™¤æ“ä½œ
å †æ„å»ºå®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œæ’å…¥æ“ä½œçš„æ€æƒ³å°±æ˜¯è®²å…ƒç´ æ’å…¥åˆ°å †çš„æœ«å°¾ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„çš„æœ«å°¾ï¼Œå †çš„å°ºå¯¸åŠ 1ï¼Œç„¶åå¯¹è¿™ä¸ªæœ«å°¾çš„æ–°å…ƒç´ è¿›è¡Œä¸Šæµ®æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ç›´å‘ä¸Šç§»åŠ¨è¯¥å…ƒç´ ï¼Œç›´åˆ°å…¶çˆ¶èŠ‚ç‚¹å¤§äºè¯¥å…ƒç´ ã€‚è‹¥æ’å…¥**å‰**ï¼Œè¯¥æ•°ç»„çš„å¤§å°ä¸ºsizeï¼Œé‚£ä¹ˆæ–°å…ƒç´ çš„çˆ¶èŠ‚ç‚¹ç´¢å¼•å°±æ˜¯$i=(size-1)/2$,è‹¥ä¸€æ¬¡ä¸Šæµ®æ— æ³•æ»¡è¶³å †çš„æ€§è´¨ï¼Œå°±è®¡ç®—æ–°çš„çˆ¶èŠ‚ç‚¹i=$(i-1)/2$ã€‚
``` c++
    T temp=heap[j];
    while (j>=0)
    {
        if(temp<heap[i])//æ’å…¥çš„æ—¶å€™å°±å·²ç»æ»¡è¶³å †çš„æ¡ä»¶,åˆ™ä¸éœ€è¦å†ç»§ç»­ä¸Šæµ®äº†
        {
            break;
        } else {//æ’å…¥æ—¶ä¸æ»¡è¶³ï¼Œä¸Šæµ®
            heap[j]=heap[i];
        }
        j=i;//jæŒ‡å‘å…¶çˆ¶èŠ‚ç‚¹
        i=(i-1)/2;//jä¸ºæ–°jçš„çˆ¶èŠ‚ç‚¹
    }
    heap[j]=temp;//å®Œæˆäº¤æ¢
```

å¯¹äºåˆ é™¤æ“ä½œå‘¢ï¼Œå°±æ¯”è¾ƒç®€å•äº†ï¼Œå°±æ˜¯äº¤æ¢å †é¡¶å…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œå †çš„å°ºå¯¸å‡1ï¼Œç„¶åå¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œä¸‹æ²‰æ“ä½œå³å¯ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ—¶åˆ»è®°å¾—ï¼šç»™å®šä¸€ä¸ªæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œ è‹¥å…¶å·¦å­æ ‘å’Œå³å­æ ‘åŒæ—¶æ»¡è¶³å †çš„æ¡ä»¶åï¼Œå¯¹æ ¹èŠ‚ç‚¹å®Œæˆ**ä¸‹æ²‰**æ“ä½œåï¼Œæ•´ä¸ªæ ‘ğŸŒ²ä¸€å®šæ˜¯ä¸€ä¸ªå †ã€‚æ‰€ä»¥åˆ é™¤æ“ä½œå°±æ²¡æœ‰ä»€ä¹ˆå¤æ‚çš„æ“ä½œäº†ã€‚

## å †æ’åºå®ç°
è¦æ³¨æ„ç©ºå †å’Œå †å®¹é‡çš„åˆ¤æ–­ï¼Œè¿˜æœ‰å †çš„å°ºå¯¸è¦æ³¨æ„æ”¹å˜ã€‚
### åŸºç±»
``` c++
#ifndef SORT_HEAP_H
#define SORT_HEAP_H
enum{DEFAUKT_SIZE=10};
template <typename T>
class Heap
{
public:
    Heap()=default;
    virtual ~Heap()= default;
    virtual void show_heap()const =0;
    virtual bool insert_heap(const T&)=0;
    virtual bool  remove_heap(T&)=0;
};
#endif //SORT_HEAP_H
```
### æœ€å¤§å †
#### å¤´æ–‡ä»¶
```c++
#ifndef SORT_MAXHEAP_H
#define SORT_MAXHEAP_H

#include "heap.h"
template <typename T>
class MaxHeap: public Heap<T> {
public:
    /**
     * åˆ›å»ºä¸€ä¸ªç©ºå †
     */
    MaxHeap(int sz=DEFAUKT_SIZE);
    /**
     * æ ¹æ®å·²æœ‰æ•°ç»„å †åˆ›å»ºä¸€ä¸ªå †
     */
    MaxHeap(const T[],const int );
    /**
     * ææ„å‡½æ•°
     */
    ~MaxHeap();
    /**
     * æ˜¾ç¤ºå †
     */
    void show_heap()const;
    /**
     * å‘å †ä¸­æ’å…¥å…ƒç´ 
     * @return
     */
    bool insert_heap(const T&);
    /**
     * ç§»é™¤å †ä¸­çš„å…ƒç´ 
     * @return
     */
    bool  remove_heap(T&);

protected:
    /**
     * ä¸‹æµ®
     */
    void shift_down(int,int);
    /**
     * ä¸Šæµ®
     */
    void shift_up(int);
private:
    //æŒ‡å‘å †çš„æŒ‡é’ˆ
    T *heap;
    //å·²æœ‰å †ä¸­å…ƒç´ ä¸ªæ•°
    int size;
    //å †çš„å®¹é‡
    int capacity;
};
#endif //SORT_MAXHEAP_H

```
#### cppæ–‡ä»¶
``` c++
#include <form.h>
#include "MaxHeap.h"
template <typename T>
MaxHeap<T>::MaxHeap(int sz) {
    capacity=sz>DEFAUKT_SIZE?sz:DEFAUKT_SIZE;
    heap=new T[capacity];
    assert(heap!= nullptr);
    size=0;
}
template <typename T>
MaxHeap<T>::MaxHeap(const T arr[],const int arrSize)
{
    capacity=arrSize>DEFAUKT_SIZE?arrSize:DEFAUKT_SIZE;
    heap=new T[capacity];
    size=arrSize;
    for(int i=0;i<arrSize;i++)
    {
        heap[i]=arr[i];
    }
    int curPos=size/2-1;
    while(curPos>=0)
    {
        shift_down(curPos,arrSize-1);
        curPos--;
    }

}
template <typename T>
void MaxHeap<T>::shift_down(int start, int end) {
    int i=start;//ç¬¬iä¸ªéå¶å­èŠ‚ç‚¹
    int j=start*2+1;//ç¬¬iä¸ªéå¶å­èŠ‚ç‚¹çš„å·¦å„¿å­
    T temp=heap[i];
    while (j<=end)//æ˜¯å¦ç»§ç»­è¿›è¡Œå¾€ä¸‹æ²‰çš„æ¡ä»¶
    {
        if(j+1<end&&heap[j]>heap[j+1])//æ‰¾åˆ°ä¸¤ä¸ªå„¿å­èŠ‚ç‚¹æ›´å¤§çš„ä¸€ä¸ª
        {
            j++;
        }
        if(temp<heap[j])break;//è¡¨ç¤ºæ­¤èŠ‚ç‚¹iå·²ç»æ»¡è¶³å †çš„æ¡ä»¶ï¼Œä¸éœ€è¦ç»§ç»­å¾€ä¸‹æ²‰ï¼›
        //å¦åˆ™ï¼Œä¼šç»§ç»­å¾€ä¸‹åˆ¤æ–­
        heap[i]=heap[j];
        i=j;//æ–°çš„èŠ‚ç‚¹
        j=2*j+1;//æ–°èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹
    }
    heap[i]=temp;//å®Œæˆä¸¤ä¸ªèŠ‚ç‚¹çš„äº¤æ¢ï¼Œä¹Ÿå¯èƒ½æ˜¯heap[i]å’Œè‡ªèº«çš„èµ‹å€¼,æ¯”å¦‚åœ¨whileå¾ªç¯çš„ç¬¬ä¸€éå¾ªç¯å°±breakå‡ºå»ã€‚
}

template <typename T>
MaxHeap<T>::~MaxHeap() {
    delete heap;
    heap= nullptr;
    capacity=size=0;
}

template <typename T>
void MaxHeap<T>::shift_up(int e) {

    int j=e;//jä¸ºæœ€åæ–°åŠ å…¥çš„å…ƒç´ 
    int i=(e-1)/2;//jçš„çˆ¶èŠ‚ç‚¹
    T temp=heap[j];
    while (j>=0)
    {
        if(temp<heap[i])//æ’å…¥çš„æ—¶å€™å°±å·²ç»æ»¡è¶³å †çš„æ¡ä»¶
        {
            break;
        } else {//æ’å…¥æ—¶ä¸æ»¡è¶³
            heap[j]=heap[i];
        }
        j=i;//jæŒ‡å‘å…¶çˆ¶èŠ‚ç‚¹
        i=(i-1)/2;//jä¸ºæ–°jçš„çˆ¶èŠ‚ç‚¹
    }
    heap[j]=temp;//å®Œæˆäº¤æ¢
}

template<typename T>
bool MaxHeap<T>::insert_heap(const T &val) {
    if(size>=capacity)return false;
    heap[size]=val;
    shift_up(size);
    size+=1;
    return true;
}
template <typename T>
bool MaxHeap<T>::remove_heap(T &val) {
    if(size<=0)return false;
    val=heap[0];
    heap[0]=heap[size-1];
    --size;
    shift_down(0,size-1);//è¿™é‡Œrootå°±æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
    // æ‰€ä»¥ä»0å¼€å§‹ï¼›è€Œåœ¨åˆå§‹å»ºå †çš„æ—¶å€™æ˜¯ä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹ä¸‹æ²‰çš„ï¼Œ
    // è¿™æ ·æ˜¯ä¸ºäº†ä¿è¯åœ¨ä¸‹æ²‰æ¯ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå…¶å·¦å³å­æ ‘éƒ½æ»¡è¶³å †çš„æ¡ä»¶ã€‚
}
```

å‚è€ƒèµ„æ–™ï¼š
[ä»£ç å®ç°](https://blog.csdn.net/FreeeLinux/article/details/52162788):https://blog.csdn.net/FreeeLinux/article/details/52162788

[ç†è®ºç†è§£](https://www.cnblogs.com/chengxiao/p/6129630.html):https://www.cnblogs.com/chengxiao/p/6129630.html